<HelpWindow>
    name:"help"

    Button:
        id:ms
        text:"Main Screen"
        on_release:
            root.manager.transition.direction = "left"
            root.main_window()

<MainWindow>
    name:"main"

    target : target
    out_file : output_file
    overwrite_nmap : overwrite_nmap
    with_nmap : with_nmap
    add_info : add_info
    recursive : recursive
    ssl : ssl
    uploaded_file : uploaded_file
    file_choosen : file_choosen
    
    GridLayout:
        cols:1

        GridLayout:
            canvas :
                Color: 
                    rgb: 1, 0, 0
                Rectangle:
                    size: self.size
                    pos: self.pos
            cols:3
            size_hint_y: None
            height:50
            row_force_default: True
            row_default_height: 50
            
            
            Button:
                id:hp
                text:"Help"
                on_release:
                    root.manager.transition.direction = "right"
                    root.help()
            
            Button:
                id:version
                text: "Version"
                on_release: 
                    root.v_popup()

            Button:
                id:reset
                text:"Reset form"
                on_release:
                    root.reset_window()
        
        GridLayout:
            canvas :
                Color: 
                    rgb: 0, 1, 0
                Rectangle:
                    size: self.size
                    pos: self.pos
            cols:2
            row_force_default: True
            row_default_height: 32
            spacing : 10, 10
            padding: 10, 10

            Label:
                text:"Target *"
            TextInput:
                id:target
                multiline:False
            
            Label:
                text:"Output File Name"
            TextInput:
                id:output_file
                multiline:False

            Label:
                text:"Overwrite Nmap Scan"
            TextInput:
                id:overwrite_nmap
                multiline:False
                hint_text:"Default : -nPn -sV -sC"

            Label:
                text:"File containing Targets"
            
            BoxLayout:
                orientation: 'horizontal'
                padding: 10

                Button:
                    id:file_choosen
                    visible:True
                    
                    opacity: 1 if self.visible else 0
                    disabled: not self.visible
                    text:"Upload a file"
                    on_release:
                        root.get_file()
                
                Label:
                    id:uploaded_file
                    visible: not file_choosen.visible
                    size_hint_x: 1 if self.visible else 0
                    opacity: 1 if self.visible else 0
                    disabled: not self.visible
                    text:""

        GridLayout:
            canvas :
                Color: 
                    rgb: 1, 1, 0
                Rectangle:
                    size: self.size
                    pos: self.pos

            cols: 4
            size_hint_y: None
            height:100
            Label:
                text:"with nmap"
            CheckBox:
                id:with_nmap

            Label:
                text:"additional info"
            CheckBox:
                id:add_info

            Label:
                text:"recursive"
            CheckBox:
                id:recursive

            Label:
                text:"ssl"
            CheckBox:
                id:ssl

            
        GridLayout:
            canvas :
                Color: 
                    rgb: 0, 0, 1
                Rectangle:
                    size: self.size
                    pos: self.pos
            cols:3
            size_hint_y: None
            height:80
            row_force_default: True
            row_default_height: 50

            Label:
                text:""
            
            Button:
                text:"Submit"
                on_release:
                    root.manager.transition.direction = "left"
                    root.get_results()
            
            Label:
                text:""


<OutputWindow>
    name:"output"
    
    res_out:res_out

    GridLayout:
        cols:1
        
        ScrollView:
            do_scroll_x: False
            do_scroll_y: True

            GridLayout:

                id:res_out
                cols : 1
                size_hint_y: None
                height : self.minimum_height
            
        Button:
            id:ms
            size_hint_y: .1
            text:"Main Screen"
            on_release:
                root.manager.transition.direction = "right"
                root.main_window()